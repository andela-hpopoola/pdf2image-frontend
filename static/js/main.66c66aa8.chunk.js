(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{106:function(e,a,t){e.exports=t(248)},247:function(e,a,t){},248:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(103),l=t.n(c),o=t(4),s=t(5),i=t(3),m={valid:"is-valid",invalid:"is-invalid"},u=function(e,a){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:m,n=Object(i.e)(e.errors,a),r=Object(i.e)(e.touched,a);return r&&n?t.invalid:r&&!n?t.valid:void 0},d=function(e){var a=e.formik,t=e.name,n=e.validMessage,c=u(a,t,{valid:"valid-feedback",invalid:"invalid-feedback"}),l=Object(i.e)(a.errors,t)||n;return c&&l?r.a.createElement("div",{className:c},l):null};d.defaultProps={validMessage:""};var p=function(e){var a=e.formGroupLabel,t=e.inputClassName,n=e.name,c=e.placeholder,l=e.type,o=e.formik,s=e.isValidMessage;return r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:n},a," "),r.a.createElement(i.a,{autoComplete:n,className:"".concat(u(o,n)," ").concat(t),id:n,name:n,placeholder:c,type:l}),r.a.createElement(d,{formik:o,name:n,validMessage:s}))};p.defaultProps={formGroupLabel:null,inputClassName:"form-control",name:null,placeholder:null,type:null,isValidMessage:""};var f=Object(i.d)(p),b=t(8),h=t.n(b),v=function(e){var a=e.children;return r.a.createElement("div",{className:"text-center"},r.a.createElement("h1",{className:"logo"},"PDF ",r.a.createElement("span",null,"CONVERTER")),r.a.createElement("p",{className:"description"},a))};v.defaultProps={children:"Instantly convert PDF documents to text or image format with this free PDF converter."};var E=v,g=function(e){var a=e.type,t=e.message;return r.a.createElement("div",{className:"alert alert-".concat(a),role:"alert"},t)};g.defaultProps={type:"danger"};var w=g,N=function(e){var a=e.type,t=e.onClick,n=e.loading,c=e.className,l=e.children;return r.a.createElement("button",{type:a,className:"btn ".concat(c),onClick:t},n&&r.a.createElement("span",{className:"spinner-border spinner-border-sm mr-2",role:"status","aria-hidden":"true"}),l)};N.defaultProps={type:"submit",loading:!1,className:""};var j=N,O=t(15),y=O.string().label("Email").email().required(),S=O.string().label("Password").required("Password is required"),P=S.min(6,"Seems a bit short..."),k=O.string().label("Confirm Password").oneOf([O.ref("password")],"Passwords must match"),C=O.object().shape({email:y,password:S}),x=O.object().shape({email:y,password:P,confirmPassword:k}),F=function(e,a){var t="http://localhost:4000"+e;return new Promise(function(e,n){fetch(t,{method:"POST",body:JSON.stringify(a),headers:{"Content-Type":"application/json"}}).then(function(a){a.ok?a.json().then(function(a){return e(a)}):n("Invalid username or password")}).catch(function(e){n(e.message)})})},L=function(){var e=Object(n.useState)(""),a=Object(s.a)(e,2),t=a[0],c=a[1],l=Object(n.useState)(!1),m=Object(s.a)(l,2),u=m[0],d=m[1];return Object(n.useEffect)(function(){var e,a=h()("pdf2convert_auth");a&&(e=a.token,new Promise(function(a,t){e||t(),fetch("".concat("http://localhost:4000","/authenticate"),{headers:new Headers({"x-auth":e})}).then(function(e){return e.json()}).then(function(e){return a(e)}).catch(function(){return t()})})).then(function(e){return e.valid_user&&Object(o.c)("/dashboard")}),u&&Object(o.c)("/dashboard")},[u]),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"login-container"},r.a.createElement(E,null),r.a.createElement(i.c,{initialValues:{email:"demo@email.com",password:"password1"},validationSchema:C,onSubmit:function(e,a){F("/login",e).then(function(e){h()("pdf2convert_auth",e),d(!0),a.setSubmitting(!1)}).catch(function(e){c(e),a.setSubmitting(!1)})},render:function(e){var a=e.isSubmitting,n=e.handleSubmit;return r.a.createElement(i.b,{className:"pt-5"},r.a.createElement("h4",{className:"login-text"},"Log into your Account"),t&&r.a.createElement(w,{message:t}),r.a.createElement(f,{name:"email",type:"email",placeholder:"Email Address",formGroupLabel:"Email"}),r.a.createElement(f,{name:"password",type:"password",placeholder:"Password",formGroupLabel:"Password"}),r.a.createElement(j,{className:"btn-danger",onClick:n,loading:a},"Sign in"))}}),r.a.createElement("div",{className:"text-center text-small pt-5"},"Dont have an account? ",r.a.createElement(o.a,{to:"/register"},"Sign up now")))))},D=function(){var e=Object(n.useState)(""),a=Object(s.a)(e,2),t=a[0],c=a[1],l=Object(n.useState)(!1),m=Object(s.a)(l,2),u=m[0],d=m[1];return Object(n.useEffect)(function(){u&&Object(o.c)("/dashboard")},[u]),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"login-container"},r.a.createElement(E,null),r.a.createElement(i.c,{initialValues:{email:"demo@testing.com",password:"",confirmPassword:""},validationSchema:x,onSubmit:function(e,a){F("/register",e).then(function(){h()("pdf2convert_auth",e),d(!0),a.setSubmitting(!1)}).catch(function(e){c(e.message),a.setSubmitting(!1)})},render:function(e){var a=e.isSubmitting,n=e.handleSubmit;return r.a.createElement(i.b,{className:"pt-5"},r.a.createElement("h4",{className:"login-text"},"Register a new Account"),t&&r.a.createElement(w,{message:t}),r.a.createElement(f,{name:"email",type:"email",placeholder:"Email Address",formGroupLabel:"Email",isValidMessage:"Awesowe, you entered a valid email address"}),r.a.createElement(f,{name:"password",type:"password",placeholder:"Password",formGroupLabel:"Password",isValidMessage:"Awesome, your password is strong"}),r.a.createElement(f,{name:"confirmPassword",type:"password",placeholder:"Confirm Password",formGroupLabel:"Confirm Password"}),r.a.createElement(j,{className:"btn-danger",onClick:n,loading:a},"Register"))}}),r.a.createElement("div",{className:"text-center text-small pt-5"},"Have an account? ",r.a.createElement(o.a,{to:"/"},"Sign in now")))))},M=function(){var e=Object(n.useState)(null),a=Object(s.a)(e,2),t=a[0],c=a[1],l=Object(n.useState)(""),i=Object(s.a)(l,2),m=i[0],u=i[1],d=Object(n.useState)(!1),p=Object(s.a)(d,2),f=p[0],b=p[1],v=Object(n.useState)(!1),g=Object(s.a)(v,2),N=g[0],O=g[1],y=Object(n.useState)(null),S=Object(s.a)(y,2),P=S[0],k=S[1],C=Object(n.useState)(!1),x=Object(s.a)(C,2),F=x[0],L=x[1],D="".concat("http://localhost:4001","/extract-text"),M=h()("pdf2convert_auth");Object(n.useEffect)(function(){!M&&Object(o.c)("/")},[M]);var A=function(e){e.preventDefault(),b(!1),O(!0);var a=new FormData;a.append("pdf",t),fetch(D,{method:"POST",headers:new Headers({"x-auth":M.token}),body:a}).then(function(e){e.json().then(function(e){var a=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").split("\n").map(function(e,a){return r.a.createElement(n.Fragment,{key:a},e,r.a.createElement("br",null))})}(e.result);k(a),L(!1),b(!0),O(!1)})}).catch(function(e){u(e.message),O(!1)})};return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"dashboard-container"},r.a.createElement(E,null,r.a.createElement(n.Fragment,null,"You are logged in as ".concat(M.email)," ",r.a.createElement(o.a,{className:"text-center",to:"/logout"},"(Logout)"))),r.a.createElement("div",{className:"container pt-3"},r.a.createElement("form",{onSubmit:A},m&&r.a.createElement(w,{message:m}),f&&r.a.createElement(n.Fragment,null,r.a.createElement(w,{type:"success",message:"Your file has been successfully converted"}),r.a.createElement("button",{className:"btn btn-danger",onClick:function(){b(!1)}},"Upload another PDF")),f||(F?r.a.createElement("div",{className:"conversion-tool"},r.a.createElement("h3",null,t&&t.name),r.a.createElement("div",{className:"pt-3"},r.a.createElement(j,{type:"button",className:"btn-info",onClick:A,loading:N},"Convert to Text"))):r.a.createElement("div",{className:"form-group files"},r.a.createElement("input",{type:"file",className:"form-control",onChange:function(e){L(!1);var a=e.target.files[0];a.size>1e6?u("Uploaded PDF should be less than 1MB"):"application/pdf"!==a.type?u("Uploaded file must be a valid PDF"):(c(a),L(!0))}}))))),f&&r.a.createElement("div",{className:"container"},P))))},A=function(){return Object(n.useEffect)(function(){h()(!1),Object(o.c)("/")}),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"login-container"},"Logging you out")))};t(247);var G=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(o.b,null,r.a.createElement(L,{path:"/"}),r.a.createElement(D,{path:"register"}),r.a.createElement(M,{path:"dashboard"}),r.a.createElement(A,{path:"logout"}),r.a.createElement(L,{default:!0})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(G,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[106,1,2]]]);
//# sourceMappingURL=main.66c66aa8.chunk.js.map